<!DOCTYPE html>
<html lang="en">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Automating my in-floor heating - intro - Fuzz Notes</title><meta name="Description" content="Fuzz&#39;s notes and other thoughts"><meta property="og:url" content="http://localhost:1313/posts/iot-floor-heat-intro/iot-floor-heat-intro/">
  <meta property="og:site_name" content="Fuzz Notes">
  <meta property="og:title" content="Automating my in-floor heating - intro">
  <meta property="og:description" content="I remember hearing Tony Fadell talk about his vision of replacing all of the dumb white boxes around your house when he started Nest. At least he managed to do a good job with the thermostat and smoke detectors before riding off into the sunset.
The problem We have in-floor heating in a few of our bathrooms which were controlled by dumb white boxes. These boxes were:
rather expensive didn’t have any wifi connectivity or ability to control them remotely had clocks that would drift from the actual time and need to be adjusted regularly didn’t account for daylight savings would forget their scheduled programming if the power was out for more than a few minutes didn’t know if we were home or away so we manually turned them OFF before leaving didn’t have any ability to report energy usage Yes, there probably are some more modern implementations available that solve some of these problems but they usually come with their own cloud service and app. I’d prefer to be able to centrally control and manage these via my own home automation system along with everything else in my home.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-03-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-03-01T00:00:00+00:00">
    <meta property="article:tag" content="Floor Heat">
    <meta property="article:tag" content="IOT">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Automating my in-floor heating - intro">
  <meta name="twitter:description" content="I remember hearing Tony Fadell talk about his vision of replacing all of the dumb white boxes around your house when he started Nest. At least he managed to do a good job with the thermostat and smoke detectors before riding off into the sunset.
The problem We have in-floor heating in a few of our bathrooms which were controlled by dumb white boxes. These boxes were:
rather expensive didn’t have any wifi connectivity or ability to control them remotely had clocks that would drift from the actual time and need to be adjusted regularly didn’t account for daylight savings would forget their scheduled programming if the power was out for more than a few minutes didn’t know if we were home or away so we manually turned them OFF before leaving didn’t have any ability to report energy usage Yes, there probably are some more modern implementations available that solve some of these problems but they usually come with their own cloud service and app. I’d prefer to be able to centrally control and manage these via my own home automation system along with everything else in my home.">
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://localhost:1313/posts/iot-floor-heat-intro/iot-floor-heat-intro/" /><link rel="next" href="http://localhost:1313/posts/iot-floor-heat-wiring/iot-floor-heat-wiring/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/css/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Automating my in-floor heating - intro",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/localhost:1313\/posts\/iot-floor-heat-intro\/iot-floor-heat-intro\/"
        },"genre": "posts","keywords": "Floor Heat, IOT","wordcount":  475 ,
        "url": "http:\/\/localhost:1313\/posts\/iot-floor-heat-intro\/iot-floor-heat-intro\/","datePublished": "2025-03-01T00:00:00+00:00","dateModified": "2025-03-01T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": ""},"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Fuzz Notes">My cool site</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Fuzz Notes">My cool site</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Automating my in-floor heating - intro</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="false" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i></a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2025-03-01">2025-03-01</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;475 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;3 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#the-problem">The problem</a></li>
    <li><a href="#in-floor-heat-sensors">In-Floor Heat Sensors</a></li>
    <li><a href="#iot-device-choices">IOT Device Choices</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>I remember hearing <a href="https://en.wikipedia.org/wiki/Tony_Fadell" target="_blank" rel="noopener noreffer ">Tony Fadell</a> talk about his vision of replacing
all of the dumb white boxes around your house when he started Nest. At least he managed to do a good job with
the thermostat and smoke detectors before riding off into the sunset.</p>
<h2 id="the-problem">The problem</h2>
<p>We have in-floor heating in a few of our bathrooms which were controlled by dumb white boxes. These boxes were:</p>
<ul>
<li>rather expensive</li>
<li>didn&rsquo;t have any wifi connectivity or ability to control them remotely</li>
<li>had clocks that would drift from the actual time and need to be adjusted regularly</li>
<li>didn&rsquo;t account for daylight savings</li>
<li>would forget their scheduled programming if the power was out for more than a few minutes</li>
<li>didn&rsquo;t know if we were home or away so we manually turned them OFF before leaving</li>
<li>didn&rsquo;t have any ability to report energy usage</li>
</ul>
<p>Yes, there probably are some more modern implementations available that solve some of these problems but they
usually come with their own cloud service and app. I&rsquo;d prefer to be able to centrally control and manage these
via my own <a href="https://www.home-assistant.io/" target="_blank" rel="noopener noreffer ">home automation system</a> along with everything else in my home.</p>
<h2 id="in-floor-heat-sensors">In-Floor Heat Sensors</h2>
<p>The first thing I wanted to understand was how these thermostats work.
In floor heating systems typically have a sensor embedded in the floor during installation. These sensors are
usually 10k NTC sensors (aka <a href="https://en.wikipedia.org/wiki/Thermistor" target="_blank" rel="noopener noreffer ">Thermistors</a>) that have a varying
resistance at different temperatures. If you know the resistance at 3 different temperatures you can use an
equation to calculate the sensor&rsquo;s temperature at any resistance.</p>
<p>I used my existing thermostat to get the floor temperature to 3 different points and then used a multi-meter to
test the resistance of the sensors so I could later calibrate my replacement controller. Measuring the resistance
is simple - just turn off the breaker to the thermostat, find the sensor wires where they attach to the thermostat,
detach them and measure the resistance between the two wires of the sensor.</p>
<h2 id="iot-device-choices">IOT Device Choices</h2>
<p>To replace my thermostat I needed to find a device that could measure the floor sensor&rsquo;s resistance to determine the
current temperature and compare it to a desired target temperature. It would then need to turn ON/OFF power to the
resistive heating element until the target temperature is reached. I wanted a device that was suitable for
putting in a electrical box in the wall where the current thermostat, power, and sensor wire were all located.
I also wanted to avoid any USB powered device that required an additional line power to USB transformer.
Luckily Shelly makes great devices like the <a href="https://us.shelly.com/products/shelly-1pm-gen3" target="_blank" rel="noopener noreffer ">Shelly 1PM</a> that are powered
by line voltage, suitable for putting in a wall box, WiFi controllable, and have an in-line relay. They also can be
connected to a <a href="https://us.shelly.com/products/shelly-plus-add-on" target="_blank" rel="noopener noreffer ">Shelly Plus Add-On</a> which can be used to integrate
with the NTC sensor.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2025-03-01</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/floor-heat/">Floor Heat</a>,&nbsp;<a href="/tags/iot/">IOT</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav">
            <a href="/posts/iot-floor-heat-wiring/iot-floor-heat-wiring/" class="next" rel="next" title="Automating my in-floor heating - wiring">Automating my in-floor heating - wiring<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2025</span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a>
        </div>

        <div id="fixed-buttons-hidden"><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script src="/lib/lazysizes/lazysizes.min.js"></script><script src="/lib/clipboard/clipboard.min.js"></script><script>window.config={"comment":{}};</script><script src="/js/theme.min.js"></script></body>
</html>
